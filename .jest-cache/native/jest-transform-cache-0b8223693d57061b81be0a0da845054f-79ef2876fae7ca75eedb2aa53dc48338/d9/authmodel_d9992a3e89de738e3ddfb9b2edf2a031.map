{"version":3,"names":["normalizeAuthUser","exports","value","cov_4que6izy7","f","s","b","_ref","_ref$id","id","rest","_objectWithoutProperties2","default","_excluded","Object","assign","normalizeAuthTokens","accessToken","access_token","refreshToken","refresh_token","normalizeAuthResponse","console","log","JSON","stringify","user","tokens","userSource","profile","tokensSource","hasAccessToken","Boolean","hasRefreshToken","result","hasUser","hasTokens"],"sources":["auth.model.js"],"sourcesContent":["/**\r\n * Auth Model\r\n * Normalizes auth responses\r\n * File: auth.model.js\r\n */\r\n\r\nconst normalizeAuthUser = (value) => {\r\n  if (!value || typeof value !== 'object') return null;\r\n  const { id = null, ...rest } = value;\r\n  return { id, ...rest };\r\n};\r\n\r\nconst normalizeAuthTokens = (value) => {\r\n  if (!value || typeof value !== 'object') return null;\r\n  const accessToken = value.accessToken || value.access_token || null;\r\n  const refreshToken = value.refreshToken || value.refresh_token || null;\r\n  if (!accessToken && !refreshToken) return null;\r\n  return { accessToken, refreshToken };\r\n};\r\n\r\nconst normalizeAuthResponse = (value) => {\r\n  console.log('[NORMALIZE_AUTH] Input value:', JSON.stringify(value, null, 2));\r\n  if (!value || typeof value !== 'object') {\r\n    console.log('[NORMALIZE_AUTH] Invalid input, returning null');\r\n    return { user: null, tokens: null };\r\n  }\r\n  const userSource = value.user || value.profile || value;\r\n  console.log('[NORMALIZE_AUTH] User source:', JSON.stringify(userSource, null, 2));\r\n  const user = normalizeAuthUser(userSource);\r\n  console.log('[NORMALIZE_AUTH] Normalized user:', JSON.stringify(user, null, 2));\r\n  \r\n  const tokensSource = value.tokens || value;\r\n  console.log('[NORMALIZE_AUTH] Tokens source:', tokensSource ? { hasAccessToken: Boolean(tokensSource.accessToken || tokensSource.access_token), hasRefreshToken: Boolean(tokensSource.refreshToken || tokensSource.refresh_token) } : null);\r\n  const tokens = normalizeAuthTokens(tokensSource);\r\n  console.log('[NORMALIZE_AUTH] Normalized tokens:', tokens ? { hasAccessToken: Boolean(tokens.accessToken), hasRefreshToken: Boolean(tokens.refreshToken) } : null);\r\n  \r\n  const result = { user, tokens };\r\n  console.log('[NORMALIZE_AUTH] Final result:', { hasUser: Boolean(user), hasTokens: Boolean(tokens) });\r\n  return result;\r\n};\r\n\r\nexport { normalizeAuthUser, normalizeAuthTokens, normalizeAuthResponse };\r\n"],"mappings":"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","ignoreList":[]}