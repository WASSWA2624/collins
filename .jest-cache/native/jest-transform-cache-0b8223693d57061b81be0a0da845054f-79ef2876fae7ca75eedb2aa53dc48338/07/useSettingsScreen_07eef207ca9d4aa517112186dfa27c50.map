{"version":3,"names":["_react","require","_expoRouter","_types","useSettingsScreen","router","useRouter","pathname","usePathname","getCurrentTab","useCallback","parts","split","lastPart","length","tabMap","SETTINGS_TABS","USER","USER_PROFILE","ROLE","PERMISSION","ROLE_PERMISSION","USER_ROLE","USER_SESSION","TENANT","FACILITY","BRANCH","DEPARTMENT","UNIT","ROOM","WARD","BED","ADDRESS","CONTACT","API_KEY","API_KEY_PERMISSION","USER_MFA","OAUTH_ACCOUNT","_useState","useState","_useState2","_slicedToArray2","default","selectedTab","setSelectedTab","tabs","useMemo","SETTINGS_TAB_ORDER","map","tabKey","id","label","testID","handleTabChange","tabId","_routeMap","routeMap","_defineProperty2","route","push","onTabChange","accessibilityLabel","_default","exports"],"sources":["useSettingsScreen.js"],"sourcesContent":["/**\r\n * useSettingsScreen Hook\r\n * File: useSettingsScreen.js\r\n *\r\n * Manages the Settings main screen logic including tab navigation\r\n * Per features-domain.mdc: Business logic separated from UI\r\n */\r\n\r\nimport { useState, useCallback, useMemo } from 'react';\r\nimport { useRouter, usePathname } from 'expo-router';\r\nimport { SETTINGS_TABS, SETTINGS_TAB_ORDER } from './types';\r\n\r\n/**\r\n * useSettingsScreen hook\r\n * Manages Settings screen tab state and navigation\r\n * \r\n * @returns {Object} Settings screen state and handlers\r\n */\r\nconst useSettingsScreen = () => {\r\n  const router = useRouter();\r\n  const pathname = usePathname();\r\n  \r\n  // Extract current tab from pathname\r\n  // E.g., /settings/users -> 'user'\r\n  const getCurrentTab = useCallback(() => {\r\n    const parts = pathname.split('/');\r\n    const lastPart = parts[parts.length - 1];\r\n    \r\n    // Map route names to tab names\r\n    const tabMap = {\r\n      'users': SETTINGS_TABS.USER,\r\n      'user-profiles': SETTINGS_TABS.USER_PROFILE,\r\n      'roles': SETTINGS_TABS.ROLE,\r\n      'permissions': SETTINGS_TABS.PERMISSION,\r\n      'role-permissions': SETTINGS_TABS.ROLE_PERMISSION,\r\n      'user-roles': SETTINGS_TABS.USER_ROLE,\r\n      'user-sessions': SETTINGS_TABS.USER_SESSION,\r\n      'tenants': SETTINGS_TABS.TENANT,\r\n      'facilities': SETTINGS_TABS.FACILITY,\r\n      'branches': SETTINGS_TABS.BRANCH,\r\n      'departments': SETTINGS_TABS.DEPARTMENT,\r\n      'units': SETTINGS_TABS.UNIT,\r\n      'rooms': SETTINGS_TABS.ROOM,\r\n      'wards': SETTINGS_TABS.WARD,\r\n      'beds': SETTINGS_TABS.BED,\r\n      'addresses': SETTINGS_TABS.ADDRESS,\r\n      'contacts': SETTINGS_TABS.CONTACT,\r\n      'api-keys': SETTINGS_TABS.API_KEY,\r\n      'api-key-permissions': SETTINGS_TABS.API_KEY_PERMISSION,\r\n      'user-mfas': SETTINGS_TABS.USER_MFA,\r\n      'oauth-accounts': SETTINGS_TABS.OAUTH_ACCOUNT,\r\n    };\r\n    \r\n    return tabMap[lastPart] || SETTINGS_TABS.TENANT;\r\n  }, [pathname]);\r\n\r\n  const [selectedTab, setSelectedTab] = useState(getCurrentTab());\r\n\r\n  const tabs = useMemo(() => SETTINGS_TAB_ORDER.map(tabKey => ({\r\n    id: tabKey,\r\n    label: `settings.tabs.${tabKey}`,\r\n    testID: `settings-tab-${tabKey}`,\r\n  })), []);\r\n\r\n  const handleTabChange = useCallback((tabId) => {\r\n    setSelectedTab(tabId);\r\n    \r\n    // Map tab to route path\r\n    const routeMap = {\r\n      [SETTINGS_TABS.USER]: '/settings/users',\r\n      [SETTINGS_TABS.USER_PROFILE]: '/settings/user-profiles',\r\n      [SETTINGS_TABS.ROLE]: '/settings/roles',\r\n      [SETTINGS_TABS.PERMISSION]: '/settings/permissions',\r\n      [SETTINGS_TABS.ROLE_PERMISSION]: '/settings/role-permissions',\r\n      [SETTINGS_TABS.USER_ROLE]: '/settings/user-roles',\r\n      [SETTINGS_TABS.USER_SESSION]: '/settings/user-sessions',\r\n      [SETTINGS_TABS.TENANT]: '/settings/tenants',\r\n      [SETTINGS_TABS.FACILITY]: '/settings/facilities',\r\n      [SETTINGS_TABS.BRANCH]: '/settings/branches',\r\n      [SETTINGS_TABS.DEPARTMENT]: '/settings/departments',\r\n      [SETTINGS_TABS.UNIT]: '/settings/units',\r\n      [SETTINGS_TABS.ROOM]: '/settings/rooms',\r\n      [SETTINGS_TABS.WARD]: '/settings/wards',\r\n      [SETTINGS_TABS.BED]: '/settings/beds',\r\n      [SETTINGS_TABS.ADDRESS]: '/settings/addresses',\r\n      [SETTINGS_TABS.CONTACT]: '/settings/contacts',\r\n      [SETTINGS_TABS.API_KEY]: '/settings/api-keys',\r\n      [SETTINGS_TABS.API_KEY_PERMISSION]: '/settings/api-key-permissions',\r\n      [SETTINGS_TABS.USER_MFA]: '/settings/user-mfas',\r\n      [SETTINGS_TABS.OAUTH_ACCOUNT]: '/settings/oauth-accounts',\r\n    };\r\n    \r\n    const route = routeMap[tabId];\r\n    if (route) {\r\n      router.push(route);\r\n    }\r\n  }, [router]);\r\n\r\n  return {\r\n    selectedTab,\r\n    tabs,\r\n    onTabChange: handleTabChange,\r\n    testID: 'settings-screen',\r\n    accessibilityLabel: 'settings.screen.label',\r\n  };\r\n};\r\n\r\nexport default useSettingsScreen;\r\n"],"mappings":"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","ignoreList":[]}