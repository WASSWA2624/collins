83c4dac2789934893e2c13eb20acd337
_getJestObj().mock("../../navigation/guards", function () {
  return {
    useAuthGuard: jest.fn()
  };
});
_getJestObj().mock('expo-router', function () {
  return {
    useRouter: jest.fn(),
    Slot: function Slot(_ref) {
      var children = _ref.children;
      return children || null;
    }
  };
});
_getJestObj().mock("../../hooks", function () {
  return {
    useAuth: jest.fn(),
    useI18n: function useI18n() {
      return {
        t: function t(key) {
          return key;
        },
        locale: 'en'
      };
    },
    useUiState: function useUiState() {
      return {
        isLoading: false
      };
    },
    useShellBanners: function useShellBanners() {
      return [];
    }
  };
});
_getJestObj().mock("../../platform/components", function () {
  return {
    GlobalHeader: jest.fn(function (_ref2) {
      var children = _ref2.children,
        props = (0, _objectWithoutProperties2.default)(_ref2, _excluded);
      return (0, _jsxRuntime.jsx)("div", Object.assign({}, props, {
        children: children || 'GlobalHeader'
      }));
    }),
    LoadingOverlay: jest.fn(function (_ref3) {
      var children = _ref3.children,
        props = (0, _objectWithoutProperties2.default)(_ref3, _excluded2);
      return (0, _jsxRuntime.jsx)("div", Object.assign({}, props, {
        children: children || 'LoadingOverlay'
      }));
    }),
    NoticeSurface: jest.fn(function (_ref4) {
      var children = _ref4.children,
        props = (0, _objectWithoutProperties2.default)(_ref4, _excluded3);
      return (0, _jsxRuntime.jsx)("div", Object.assign({}, props, {
        children: children || 'NoticeSurface'
      }));
    }),
    ShellBanners: jest.fn(function (_ref5) {
      var children = _ref5.children,
        props = (0, _objectWithoutProperties2.default)(_ref5, _excluded4);
      return (0, _jsxRuntime.jsx)("div", Object.assign({}, props, {
        children: children || 'ShellBanners'
      }));
    })
  };
});
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));
var _react = _interopRequireDefault(require("react"));
var _reactNative = require("@testing-library/react-native");
var _reactTestRenderer = require("react-test-renderer");
var _layout = _interopRequireDefault(require("../../app/(auth)/_layout"));
var _hooks = require("../../hooks");
var _guards = require("../../navigation/guards");
var _expoRouter = require("expo-router");
var _jsxRuntime = require("react/jsx-runtime");
var _excluded = ["children"],
  _excluded2 = ["children"],
  _excluded3 = ["children"],
  _excluded4 = ["children"];
function _getJestObj() {
  var _require = require("@jest/globals"),
    jest = _require.jest;
  _getJestObj = function _getJestObj() {
    return jest;
  };
  return jest;
}
describe('AuthLayout with Auth Guard', function () {
  var mockRouter;
  beforeEach(function () {
    jest.clearAllMocks();
    mockRouter = {
      replace: jest.fn(),
      push: jest.fn()
    };
    _expoRouter.useRouter.mockReturnValue(mockRouter);
    _hooks.useAuth.mockReturnValue({
      isAuthenticated: false,
      logout: jest.fn()
    });
    _guards.useAuthGuard.mockReturnValue({
      authenticated: false,
      user: null
    });
  });
  it('should render Slot for unauthenticated users', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: false,
      user: null
    });
    var _render = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {})),
      getByTestId = _render.getByTestId;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).not.toHaveBeenCalled();
    });
  }));
  it('should redirect authenticated users to home route', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should only redirect once per authenticated state (idempotent)', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    var _render2 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {})),
      rerender = _render2.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledTimes(1);
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
    rerender((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledTimes(1);
    });
  }));
  it('should handle transition from unauthenticated to authenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = false;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var _render3 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {})),
      rerender = _render3.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).not.toHaveBeenCalled();
    });
    authenticated = true;
    mockRouter.replace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should handle transition from authenticated to unauthenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = true;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var _render4 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {})),
      rerender = _render4.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
    authenticated = false;
    mockRouter.replace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).not.toHaveBeenCalled();
    });
  }));
  it('should reset redirect flag when transitioning from authenticated to unauthenticated', (0, _asyncToGenerator2.default)(function* () {
    var authenticated = true;
    _guards.useAuthGuard.mockImplementation(function () {
      return {
        authenticated: authenticated,
        user: authenticated ? {
          id: '1',
          email: 'test@example.com'
        } : null
      };
    });
    var _render5 = (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {})),
      rerender = _render5.rerender;
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
    authenticated = false;
    mockRouter.replace.mockClear();
    rerender((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).not.toHaveBeenCalled();
    });
    authenticated = true;
    rerender((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
  }));
  it('should call useAuthGuard hook', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    expect(_guards.useAuthGuard).toHaveBeenCalled();
  });
  it('should pass login/register actions when unauthenticated', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    var GlobalHeader = require("../../platform/components").GlobalHeader;
    var headerCall = GlobalHeader.mock.calls[0];
    var actionIds = headerCall[0].actions.map(function (action) {
      return action.id;
    });
    expect(actionIds).toContain('login');
    expect(actionIds).toContain('register');
    expect(actionIds).not.toContain('logout');
  });
  it('should pass logout action when authenticated', function () {
    _hooks.useAuth.mockReturnValue({
      isAuthenticated: true,
      logout: jest.fn()
    });
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    var GlobalHeader = require("../../platform/components").GlobalHeader;
    var headerCall = GlobalHeader.mock.calls[0];
    var actionIds = headerCall[0].actions.map(function (action) {
      return action.id;
    });
    expect(actionIds).toContain('logout');
    expect(actionIds).not.toContain('login');
    expect(actionIds).not.toContain('register');
  });
  it('should call useRouter hook', function () {
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    expect(_expoRouter.useRouter).toHaveBeenCalled();
  });
  it('should handle router errors gracefully', function () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: {
        id: '1',
        email: 'test@example.com'
      }
    });
    mockRouter.replace.mockImplementation(function () {
      throw new Error('Router error');
    });
    expect(function () {
      (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    }).toThrow('Router error');
  });
  it('should handle useAuthGuard returning undefined authenticated', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: undefined,
      user: null
    });
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).not.toHaveBeenCalled();
    });
  }));
  it('should handle useAuthGuard returning null user for authenticated state', (0, _asyncToGenerator2.default)(function* () {
    _guards.useAuthGuard.mockReturnValue({
      authenticated: true,
      user: null
    });
    (0, _reactNative.render)((0, _jsxRuntime.jsx)(_layout.default, {}));
    yield (0, _reactNative.waitFor)(function () {
      expect(mockRouter.replace).toHaveBeenCalledWith('/home');
    });
  }));
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZ2V0SmVzdE9iaiIsIm1vY2siLCJ1c2VBdXRoR3VhcmQiLCJqZXN0IiwiZm4iLCJ1c2VSb3V0ZXIiLCJTbG90IiwiX3JlZiIsImNoaWxkcmVuIiwidXNlQXV0aCIsInVzZUkxOG4iLCJ0Iiwia2V5IiwibG9jYWxlIiwidXNlVWlTdGF0ZSIsImlzTG9hZGluZyIsInVzZVNoZWxsQmFubmVycyIsIkdsb2JhbEhlYWRlciIsIl9yZWYyIiwicHJvcHMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMyIiwiZGVmYXVsdCIsIl9leGNsdWRlZCIsIl9qc3hSdW50aW1lIiwianN4IiwiT2JqZWN0IiwiYXNzaWduIiwiTG9hZGluZ092ZXJsYXkiLCJfcmVmMyIsIl9leGNsdWRlZDIiLCJOb3RpY2VTdXJmYWNlIiwiX3JlZjQiLCJfZXhjbHVkZWQzIiwiU2hlbGxCYW5uZXJzIiwiX3JlZjUiLCJfZXhjbHVkZWQ0IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfYXN5bmNUb0dlbmVyYXRvcjIiLCJfcmVhY3QiLCJfcmVhY3ROYXRpdmUiLCJfcmVhY3RUZXN0UmVuZGVyZXIiLCJfbGF5b3V0IiwiX2hvb2tzIiwiX2d1YXJkcyIsIl9leHBvUm91dGVyIiwiX3JlcXVpcmUiLCJkZXNjcmliZSIsIm1vY2tSb3V0ZXIiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsInJlcGxhY2UiLCJwdXNoIiwibW9ja1JldHVyblZhbHVlIiwiaXNBdXRoZW50aWNhdGVkIiwibG9nb3V0IiwiYXV0aGVudGljYXRlZCIsInVzZXIiLCJpdCIsIl9yZW5kZXIiLCJyZW5kZXIiLCJnZXRCeVRlc3RJZCIsIndhaXRGb3IiLCJleHBlY3QiLCJub3QiLCJ0b0hhdmVCZWVuQ2FsbGVkIiwiaWQiLCJlbWFpbCIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwiX3JlbmRlcjIiLCJyZXJlbmRlciIsInRvSGF2ZUJlZW5DYWxsZWRUaW1lcyIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsIl9yZW5kZXIzIiwibW9ja0NsZWFyIiwiX3JlbmRlcjQiLCJfcmVuZGVyNSIsImhlYWRlckNhbGwiLCJjYWxscyIsImFjdGlvbklkcyIsImFjdGlvbnMiLCJtYXAiLCJhY3Rpb24iLCJ0b0NvbnRhaW4iLCJFcnJvciIsInRvVGhyb3ciLCJ1bmRlZmluZWQiXSwic291cmNlcyI6WyJhdXRoLWxheW91dC1ndWFyZC50ZXN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxyXG4gKiBBdXRoIExheW91dCBHdWFyZCBUZXN0c1xyXG4gKiBcclxuICogVGVzdHMgZm9yIGF1dGggbGF5b3V0IHdpdGggYXV0aCBndWFyZCBpbnRlZ3JhdGlvbiBjb3ZlcmluZzpcclxuICogLSBVbmF1dGhlbnRpY2F0ZWQgdXNlcnMgY2FuIGFjY2VzcyBhdXRoIHJvdXRlcyAobm8gcmVkaXJlY3QpXHJcbiAqIC0gQXV0aGVudGljYXRlZCB1c2VycyBhcmUgcmVkaXJlY3RlZCB0byBob21lIHJvdXRlIHdoZW4gYWNjZXNzaW5nIGF1dGggcm91dGVzXHJcbiAqIC0gQWxsIGJyYW5jaGVzIChhdXRoZW50aWNhdGVkIHZzIHVuYXV0aGVudGljYXRlZCBzdGF0ZXMpXHJcbiAqIC0gSW50ZWdyYXRpb24gYmV0d2VlbiBsYXlvdXQgYW5kIGd1YXJkIGhvb2tcclxuICogXHJcbiAqIENvdmVyYWdlOiAxMDAlIHJlcXVpcmVkIChjcml0aWNhbCBwYXRoOiBhdXRoL2FjY2VzcyBjb250cm9sKVxyXG4gKi9cclxuXHJcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHJlbmRlciwgd2FpdEZvciB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QtbmF0aXZlJztcclxuaW1wb3J0IHsgYWN0IH0gZnJvbSAncmVhY3QtdGVzdC1yZW5kZXJlcic7XHJcbmltcG9ydCBBdXRoTGF5b3V0IGZyb20gJ0BhcHAvKGF1dGgpL19sYXlvdXQnO1xyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnQGhvb2tzJztcclxuaW1wb3J0IHsgdXNlQXV0aEd1YXJkIH0gZnJvbSAnQG5hdmlnYXRpb24vZ3VhcmRzJztcclxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnZXhwby1yb3V0ZXInO1xyXG5cclxuLy8gTW9jayBkZXBlbmRlbmNpZXNcclxuamVzdC5tb2NrKCdAbmF2aWdhdGlvbi9ndWFyZHMnLCAoKSA9PiAoe1xyXG4gIHVzZUF1dGhHdWFyZDogamVzdC5mbigpLFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJ2V4cG8tcm91dGVyJywgKCkgPT4gKHtcclxuICB1c2VSb3V0ZXI6IGplc3QuZm4oKSxcclxuICBTbG90OiAoeyBjaGlsZHJlbiB9KSA9PiBjaGlsZHJlbiB8fCBudWxsLFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJ0Bob29rcycsICgpID0+ICh7XHJcbiAgdXNlQXV0aDogamVzdC5mbigpLFxyXG4gIHVzZUkxOG46ICgpID0+ICh7XHJcbiAgICB0OiAoa2V5KSA9PiBrZXksXHJcbiAgICBsb2NhbGU6ICdlbicsXHJcbiAgfSksXHJcbiAgdXNlVWlTdGF0ZTogKCkgPT4gKHsgaXNMb2FkaW5nOiBmYWxzZSB9KSxcclxuICB1c2VTaGVsbEJhbm5lcnM6ICgpID0+IFtdLFxyXG59KSk7XHJcblxyXG5qZXN0Lm1vY2soJ0BwbGF0Zm9ybS9jb21wb25lbnRzJywgKCkgPT4gKHtcclxuICBHbG9iYWxIZWFkZXI6IGplc3QuZm4oKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IChcclxuICAgIDxkaXYgey4uLnByb3BzfT57Y2hpbGRyZW4gfHwgJ0dsb2JhbEhlYWRlcid9PC9kaXY+XHJcbiAgKSksXHJcbiAgTG9hZGluZ092ZXJsYXk6IGplc3QuZm4oKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IChcclxuICAgIDxkaXYgey4uLnByb3BzfT57Y2hpbGRyZW4gfHwgJ0xvYWRpbmdPdmVybGF5J308L2Rpdj5cclxuICApKSxcclxuICBOb3RpY2VTdXJmYWNlOiBqZXN0LmZuKCh7IGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiAoXHJcbiAgICA8ZGl2IHsuLi5wcm9wc30+e2NoaWxkcmVuIHx8ICdOb3RpY2VTdXJmYWNlJ308L2Rpdj5cclxuICApKSxcclxuICBTaGVsbEJhbm5lcnM6IGplc3QuZm4oKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0pID0+IChcclxuICAgIDxkaXYgey4uLnByb3BzfT57Y2hpbGRyZW4gfHwgJ1NoZWxsQmFubmVycyd9PC9kaXY+XHJcbiAgKSksXHJcbn0pKTtcclxuXHJcbmRlc2NyaWJlKCdBdXRoTGF5b3V0IHdpdGggQXV0aCBHdWFyZCcsICgpID0+IHtcclxuICBsZXQgbW9ja1JvdXRlcjtcclxuXHJcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XHJcbiAgICAvLyBSZXNldCBtb2Nrc1xyXG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XHJcblxyXG4gICAgLy8gU2V0dXAgcm91dGVyIG1vY2tcclxuICAgIG1vY2tSb3V0ZXIgPSB7XHJcbiAgICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcclxuICAgICAgcHVzaDogamVzdC5mbigpLFxyXG4gICAgfTtcclxuICAgIHVzZVJvdXRlci5tb2NrUmV0dXJuVmFsdWUobW9ja1JvdXRlcik7XHJcblxyXG4gICAgLy8gRGVmYXVsdDogdW5hdXRoZW50aWNhdGVkXHJcbiAgICB1c2VBdXRoLm1vY2tSZXR1cm5WYWx1ZSh7IGlzQXV0aGVudGljYXRlZDogZmFsc2UsIGxvZ291dDogamVzdC5mbigpIH0pO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IGZhbHNlLFxyXG4gICAgICB1c2VyOiBudWxsLFxyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgcmVuZGVyIFNsb3QgZm9yIHVuYXV0aGVudGljYXRlZCB1c2VycycsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiBmYWxzZSxcclxuICAgICAgdXNlcjogbnVsbCxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgZ2V0QnlUZXN0SWQgfSA9IHJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIC8vIExheW91dCBzaG91bGQgcmVuZGVyIHdpdGhvdXQgcmVkaXJlY3RpbmdcclxuICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlZGlyZWN0IGF1dGhlbnRpY2F0ZWQgdXNlcnMgdG8gaG9tZSByb3V0ZScsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIHJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnJlcGxhY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvaG9tZScpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgb25seSByZWRpcmVjdCBvbmNlIHBlciBhdXRoZW50aWNhdGVkIHN0YXRlIChpZGVtcG90ZW50KScsIGFzeW5jICgpID0+IHtcclxuICAgIHVzZUF1dGhHdWFyZC5tb2NrUmV0dXJuVmFsdWUoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkOiB0cnVlLFxyXG4gICAgICB1c2VyOiB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSxcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnJlcGxhY2UpLnRvSGF2ZUJlZW5DYWxsZWRUaW1lcygxKTtcclxuICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucmVwbGFjZSkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJy9ob21lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBSZXJlbmRlciBzaG91bGQgbm90IHRyaWdnZXIgYW5vdGhlciByZWRpcmVjdFxyXG4gICAgcmVyZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JvdXRlci5yZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkVGltZXMoMSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBoYW5kbGUgdHJhbnNpdGlvbiBmcm9tIHVuYXV0aGVudGljYXRlZCB0byBhdXRoZW50aWNhdGVkJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgbGV0IGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+ICh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQsXHJcbiAgICAgIHVzZXI6IGF1dGhlbnRpY2F0ZWQgPyB7IGlkOiAnMScsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSA6IG51bGwsXHJcbiAgICB9KSk7XHJcblxyXG4gICAgY29uc3QgeyByZXJlbmRlciB9ID0gcmVuZGVyKDxBdXRoTGF5b3V0IC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFRyYW5zaXRpb24gdG8gYXV0aGVudGljYXRlZFxyXG4gICAgYXV0aGVudGljYXRlZCA9IHRydWU7XHJcbiAgICBtb2NrUm91dGVyLnJlcGxhY2UubW9ja0NsZWFyKCk7XHJcblxyXG4gICAgcmVyZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JvdXRlci5yZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSB0cmFuc2l0aW9uIGZyb20gYXV0aGVudGljYXRlZCB0byB1bmF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBsZXQgYXV0aGVudGljYXRlZCA9IHRydWU7XHJcblxyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkLFxyXG4gICAgICB1c2VyOiBhdXRoZW50aWNhdGVkID8geyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnJlcGxhY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvaG9tZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVHJhbnNpdGlvbiB0byB1bmF1dGhlbnRpY2F0ZWRcclxuICAgIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuICAgIG1vY2tSb3V0ZXIucmVwbGFjZS5tb2NrQ2xlYXIoKTtcclxuXHJcbiAgICByZXJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIC8vIFNob3VsZCBub3QgcmVkaXJlY3Qgd2hlbiB1bmF1dGhlbnRpY2F0ZWRcclxuICAgICAgZXhwZWN0KG1vY2tSb3V0ZXIucmVwbGFjZSkubm90LnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIHJlc2V0IHJlZGlyZWN0IGZsYWcgd2hlbiB0cmFuc2l0aW9uaW5nIGZyb20gYXV0aGVudGljYXRlZCB0byB1bmF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBsZXQgYXV0aGVudGljYXRlZCA9IHRydWU7XHJcblxyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiAoe1xyXG4gICAgICBhdXRoZW50aWNhdGVkLFxyXG4gICAgICB1c2VyOiBhdXRoZW50aWNhdGVkID8geyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gOiBudWxsLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIGNvbnN0IHsgcmVyZW5kZXIgfSA9IHJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnJlcGxhY2UpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCcvaG9tZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gVHJhbnNpdGlvbiB0byB1bmF1dGhlbnRpY2F0ZWRcclxuICAgIGF1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcclxuICAgIG1vY2tSb3V0ZXIucmVwbGFjZS5tb2NrQ2xlYXIoKTtcclxuXHJcbiAgICByZXJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XHJcbiAgICAgIGV4cGVjdChtb2NrUm91dGVyLnJlcGxhY2UpLm5vdC50b0hhdmVCZWVuQ2FsbGVkKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBUcmFuc2l0aW9uIGJhY2sgdG8gYXV0aGVudGljYXRlZCAoc2hvdWxkIHJlZGlyZWN0IGFnYWluKVxyXG4gICAgYXV0aGVudGljYXRlZCA9IHRydWU7XHJcblxyXG4gICAgcmVyZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICBleHBlY3QobW9ja1JvdXRlci5yZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGNhbGwgdXNlQXV0aEd1YXJkIGhvb2snLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG5cclxuICAgIGV4cGVjdCh1c2VBdXRoR3VhcmQpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBwYXNzIGxvZ2luL3JlZ2lzdGVyIGFjdGlvbnMgd2hlbiB1bmF1dGhlbnRpY2F0ZWQnLCAoKSA9PiB7XHJcbiAgICByZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG4gICAgY29uc3QgR2xvYmFsSGVhZGVyID0gcmVxdWlyZSgnQHBsYXRmb3JtL2NvbXBvbmVudHMnKS5HbG9iYWxIZWFkZXI7XHJcbiAgICBjb25zdCBoZWFkZXJDYWxsID0gR2xvYmFsSGVhZGVyLm1vY2suY2FsbHNbMF07XHJcbiAgICBjb25zdCBhY3Rpb25JZHMgPSBoZWFkZXJDYWxsWzBdLmFjdGlvbnMubWFwKChhY3Rpb24pID0+IGFjdGlvbi5pZCk7XHJcbiAgICBleHBlY3QoYWN0aW9uSWRzKS50b0NvbnRhaW4oJ2xvZ2luJyk7XHJcbiAgICBleHBlY3QoYWN0aW9uSWRzKS50b0NvbnRhaW4oJ3JlZ2lzdGVyJyk7XHJcbiAgICBleHBlY3QoYWN0aW9uSWRzKS5ub3QudG9Db250YWluKCdsb2dvdXQnKTtcclxuICB9KTtcclxuXHJcbiAgaXQoJ3Nob3VsZCBwYXNzIGxvZ291dCBhY3Rpb24gd2hlbiBhdXRoZW50aWNhdGVkJywgKCkgPT4ge1xyXG4gICAgdXNlQXV0aC5tb2NrUmV0dXJuVmFsdWUoeyBpc0F1dGhlbnRpY2F0ZWQ6IHRydWUsIGxvZ291dDogamVzdC5mbigpIH0pO1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXHJcbiAgICAgIHVzZXI6IHsgaWQ6ICcxJywgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyB9LFxyXG4gICAgfSk7XHJcbiAgICByZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG4gICAgY29uc3QgR2xvYmFsSGVhZGVyID0gcmVxdWlyZSgnQHBsYXRmb3JtL2NvbXBvbmVudHMnKS5HbG9iYWxIZWFkZXI7XHJcbiAgICBjb25zdCBoZWFkZXJDYWxsID0gR2xvYmFsSGVhZGVyLm1vY2suY2FsbHNbMF07XHJcbiAgICBjb25zdCBhY3Rpb25JZHMgPSBoZWFkZXJDYWxsWzBdLmFjdGlvbnMubWFwKChhY3Rpb24pID0+IGFjdGlvbi5pZCk7XHJcbiAgICBleHBlY3QoYWN0aW9uSWRzKS50b0NvbnRhaW4oJ2xvZ291dCcpO1xyXG4gICAgZXhwZWN0KGFjdGlvbklkcykubm90LnRvQ29udGFpbignbG9naW4nKTtcclxuICAgIGV4cGVjdChhY3Rpb25JZHMpLm5vdC50b0NvbnRhaW4oJ3JlZ2lzdGVyJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgY2FsbCB1c2VSb3V0ZXIgaG9vaycsICgpID0+IHtcclxuICAgIHJlbmRlcig8QXV0aExheW91dCAvPik7XHJcblxyXG4gICAgZXhwZWN0KHVzZVJvdXRlcikudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gIH0pO1xyXG5cclxuICBpdCgnc2hvdWxkIGhhbmRsZSByb3V0ZXIgZXJyb3JzIGdyYWNlZnVsbHknLCAoKSA9PiB7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdHJ1ZSxcclxuICAgICAgdXNlcjogeyBpZDogJzEnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0sXHJcbiAgICB9KTtcclxuXHJcbiAgICBtb2NrUm91dGVyLnJlcGxhY2UubW9ja0ltcGxlbWVudGF0aW9uKCgpID0+IHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSb3V0ZXIgZXJyb3InKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFNob3VsZCB0aHJvdyBlcnJvciAocm91dGVyIGVycm9yIHByb3BhZ2F0ZXMpXHJcbiAgICBleHBlY3QoKCkgPT4ge1xyXG4gICAgICByZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG4gICAgfSkudG9UaHJvdygnUm91dGVyIGVycm9yJyk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIHVzZUF1dGhHdWFyZCByZXR1cm5pbmcgdW5kZWZpbmVkIGF1dGhlbnRpY2F0ZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICB1c2VBdXRoR3VhcmQubW9ja1JldHVyblZhbHVlKHtcclxuICAgICAgYXV0aGVudGljYXRlZDogdW5kZWZpbmVkLFxyXG4gICAgICB1c2VyOiBudWxsLFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmVuZGVyKDxBdXRoTGF5b3V0IC8+KTtcclxuXHJcbiAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcclxuICAgICAgLy8gU2hvdWxkIG5vdCByZWRpcmVjdCBpZiBhdXRoZW50aWNhdGVkIGlzIHVuZGVmaW5lZC9mYWxzeVxyXG4gICAgICBleHBlY3QobW9ja1JvdXRlci5yZXBsYWNlKS5ub3QudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGl0KCdzaG91bGQgaGFuZGxlIHVzZUF1dGhHdWFyZCByZXR1cm5pbmcgbnVsbCB1c2VyIGZvciBhdXRoZW50aWNhdGVkIHN0YXRlJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgdXNlQXV0aEd1YXJkLm1vY2tSZXR1cm5WYWx1ZSh7XHJcbiAgICAgIGF1dGhlbnRpY2F0ZWQ6IHRydWUsXHJcbiAgICAgIHVzZXI6IG51bGwsXHJcbiAgICB9KTtcclxuXHJcbiAgICByZW5kZXIoPEF1dGhMYXlvdXQgLz4pO1xyXG5cclxuICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xyXG4gICAgICAvLyBTaG91bGQgc3RpbGwgcmVkaXJlY3QgaWYgYXV0aGVudGljYXRlZCBpcyB0cnVlLCBldmVuIGlmIHVzZXIgaXMgbnVsbFxyXG4gICAgICBleHBlY3QobW9ja1JvdXRlci5yZXBsYWNlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnL2hvbWUnKTtcclxuICAgIH0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbiJdLCJtYXBwaW5ncyI6IkFBcUJBQSxXQUFBLEdBQUtDLElBQUksNEJBQXVCO0VBQUEsT0FBTztJQUNyQ0MsWUFBWSxFQUFFQyxJQUFJLENBQUNDLEVBQUUsQ0FBQztFQUN4QixDQUFDO0FBQUEsQ0FBQyxDQUFDO0FBRUhKLFdBQUEsR0FBS0MsSUFBSSxDQUFDLGFBQWEsRUFBRTtFQUFBLE9BQU87SUFDOUJJLFNBQVMsRUFBRUYsSUFBSSxDQUFDQyxFQUFFLENBQUMsQ0FBQztJQUNwQkUsSUFBSSxFQUFFLFNBQU5BLElBQUlBLENBQUFDLElBQUE7TUFBQSxJQUFLQyxRQUFRLEdBQUFELElBQUEsQ0FBUkMsUUFBUTtNQUFBLE9BQU9BLFFBQVEsSUFBSSxJQUFJO0lBQUE7RUFDMUMsQ0FBQztBQUFBLENBQUMsQ0FBQztBQUVIUixXQUFBLEdBQUtDLElBQUksZ0JBQVc7RUFBQSxPQUFPO0lBQ3pCUSxPQUFPLEVBQUVOLElBQUksQ0FBQ0MsRUFBRSxDQUFDLENBQUM7SUFDbEJNLE9BQU8sRUFBRSxTQUFUQSxPQUFPQSxDQUFBO01BQUEsT0FBUztRQUNkQyxDQUFDLEVBQUUsU0FBSEEsQ0FBQ0EsQ0FBR0MsR0FBRztVQUFBLE9BQUtBLEdBQUc7UUFBQTtRQUNmQyxNQUFNLEVBQUU7TUFDVixDQUFDO0lBQUEsQ0FBQztJQUNGQyxVQUFVLEVBQUUsU0FBWkEsVUFBVUEsQ0FBQTtNQUFBLE9BQVM7UUFBRUMsU0FBUyxFQUFFO01BQU0sQ0FBQztJQUFBLENBQUM7SUFDeENDLGVBQWUsRUFBRSxTQUFqQkEsZUFBZUEsQ0FBQTtNQUFBLE9BQVEs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