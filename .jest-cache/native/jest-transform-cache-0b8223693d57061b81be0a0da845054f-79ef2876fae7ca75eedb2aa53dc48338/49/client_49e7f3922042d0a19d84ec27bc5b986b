4da3ce86d63a83d18a4eb65a23856702
var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault").default;
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.apiClient = void 0;
var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));
var _config = require("../../config");
var _errors = require("../../errors");
var _i18n = require("../../i18n");
var _storage = require("../storage");
var _interceptors = require("./interceptors");
var resolveRequestLocale = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* () {
    try {
      var storedLocale = yield _storage.async.getItem(_i18n.LOCALE_STORAGE_KEY);
      if (typeof storedLocale === 'string') {
        var value = storedLocale.trim();
        if (value) return value;
      }
      return (0, _i18n.getDeviceLocale)();
    } catch (_unused) {
      return (0, _i18n.getDeviceLocale)();
    }
  });
  return function resolveRequestLocale() {
    return _ref.apply(this, arguments);
  };
}();
var apiClient = exports.apiClient = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (config) {
    var url = config.url,
      _config$method = config.method,
      method = _config$method === void 0 ? 'GET' : _config$method,
      body = config.body,
      _config$headers = config.headers,
      headers = _config$headers === void 0 ? {} : _config$headers,
      _config$timeout = config.timeout,
      timeout = _config$timeout === void 0 ? _config.TIMEOUTS.API_REQUEST : _config$timeout;
    fetch('http://127.0.0.1:7251/ingest/1d28b85e-4e80-4cd6-84bc-0a14f3ba6cec', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        location: 'client.js:33',
        message: 'api_client_enter',
        data: {
          url: url,
          method: method,
          hasBody: Boolean(body),
          timeout: timeout
        },
        timestamp: Date.now(),
        sessionId: 'debug-session',
        runId: 'login-redirect',
        hypothesisId: 'H6'
      })
    }).catch(function () {});
    var authConfig = yield (0, _interceptors.attachAuthHeader)({
      url: url,
      method: method,
      body: body,
      headers: headers
    });
    fetch('http://127.0.0.1:7251/ingest/1d28b85e-4e80-4cd6-84bc-0a14f3ba6cec', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        location: 'client.js:37',
        message: 'api_client_auth_config',
        data: {
          url: authConfig == null ? void 0 : authConfig.url,
          method: authConfig == null ? void 0 : authConfig.method,
          hasHeaders: Boolean(authConfig == null ? void 0 : authConfig.headers)
        },
        timestamp: Date.now(),
        sessionId: 'debug-session',
        runId: 'login-redirect',
        hypothesisId: 'H7'
      })
    }).catch(function () {});
    var controller = new AbortController();
    var timeoutId = setTimeout(function () {
      return controller.abort();
    }, timeout);
    try {
      var _response$headers;
      var locale = yield resolveRequestLocale();
      fetch('http://127.0.0.1:7251/ingest/1d28b85e-4e80-4cd6-84bc-0a14f3ba6cec', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          location: 'client.js:45',
          message: 'api_client_before_fetch',
          data: {
            url: authConfig == null ? void 0 : authConfig.url,
            locale: locale
          },
          timestamp: Date.now(),
          sessionId: 'debug-session',
          runId: 'login-redirect',
          hypothesisId: 'H8'
        })
      }).catch(function () {});
      var response = yield fetch(authConfig.url, {
        method: authConfig.method,
        headers: Object.assign({
          'Content-Type': 'application/json'
        }, locale ? {
          'Accept-Language': locale
        } : {}, authConfig.headers),
        body: authConfig.body ? JSON.stringify(authConfig.body) : undefined,
        signal: controller.signal
      });
      clearTimeout(timeoutId);
      fetch('http://127.0.0.1:7251/ingest/1d28b85e-4e80-4cd6-84bc-0a14f3ba6cec', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          location: 'client.js:58',
          message: 'api_client_response',
          data: {
            status: response == null ? void 0 : response.status,
            ok: response == null ? void 0 : response.ok
          },
          timestamp: Date.now(),
          sessionId: 'debug-session',
          runId: 'login-redirect',
          hypothesisId: 'H9'
        })
      }).catch(function () {});
      var contentType = ((_response$headers = response.headers) == null || _response$headers.get == null ? void 0 : _response$headers.get('content-type')) || '';
      var hasJson = contentType.includes('application/json');
      if (!response.ok) {
        var _errorData, _errorData2;
        var errorData = null;
        if (hasJson) {
          try {
            errorData = yield response.json();
          } catch (e) {}
        }
        var error = {
          status: response.status,
          statusText: response.statusText,
          message: ((_errorData = errorData) == null ? void 0 : _errorData.message) || `API request failed: ${response.statusText}`,
          errors: ((_errorData2 = errorData) == null ? void 0 : _errorData2.errors) || []
        };
        throw yield (0, _interceptors.handleAuthError)(error);
      }
      var data = hasJson ? yield response.json() : null;
      return {
        data: data,
        status: response.status
      };
    } catch (error) {
      clearTimeout(timeoutId);
      fetch('http://127.0.0.1:7251/ingest/1d28b85e-4e80-4cd6-84bc-0a14f3ba6cec', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({
          location: 'client.js:86',
          message: 'api_client_error',
          data: {
            name: (error == null ? void 0 : error.name) || null,
            message: typeof (error == null ? void 0 : error.message) === 'string' ? error.message.slice(0, 120) : null
          },
          timestamp: Date.now(),
          sessionId: 'debug-session',
          runId: 'login-redirect',
          hypothesisId: 'H8'
        })
      }).catch(function () {});
      if (error.name === 'AbortError') {
        throw (0, _errors.handleError)(new Error('Request timeout'), {
          url: url
        });
      }
      throw yield (0, _interceptors.handleAuthError)(error);
    }
  });
  return function apiClient(_x) {
    return _ref2.apply(this, arguments);
  };
}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29uZmlnIiwicmVxdWlyZSIsIl9lcnJvcnMiLCJfaTE4biIsIl9zdG9yYWdlIiwiX2ludGVyY2VwdG9ycyIsInJlc29sdmVSZXF1ZXN0TG9jYWxlIiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yMiIsImRlZmF1bHQiLCJzdG9yZWRMb2NhbGUiLCJhc3luY1N0b3JhZ2UiLCJnZXRJdGVtIiwiTE9DQUxFX1NUT1JBR0VfS0VZIiwidmFsdWUiLCJ0cmltIiwiZ2V0RGV2aWNlTG9jYWxlIiwiX3VudXNlZCIsImFwcGx5IiwiYXJndW1lbnRzIiwiYXBpQ2xpZW50IiwiZXhwb3J0cyIsIl9yZWYyIiwiY29uZmlnIiwidXJsIiwiX2NvbmZpZyRtZXRob2QiLCJtZXRob2QiLCJib2R5IiwiX2NvbmZpZyRoZWFkZXJzIiwiaGVhZGVycyIsIl9jb25maWckdGltZW91dCIsInRpbWVvdXQiLCJUSU1FT1VUUyIsIkFQSV9SRVFVRVNUIiwiZmV0Y2giLCJKU09OIiwic3RyaW5naWZ5IiwibG9jYXRpb24iLCJtZXNzYWdlIiwiZGF0YSIsImhhc0JvZHkiLCJCb29sZWFuIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsInNlc3Npb25JZCIsInJ1bklkIiwiaHlwb3RoZXNpc0lkIiwiY2F0Y2giLCJhdXRoQ29uZmlnIiwiYXR0YWNoQXV0aEhlYWRlciIsImhhc0hlYWRlcnMiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0IiwiX3Jlc3BvbnNlJGhlYWRlcnMiLCJsb2NhbGUiLCJyZXNwb25zZSIsIk9iamVjdCIsImFzc2lnbiIsInVuZGVmaW5lZCIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsInN0YXR1cyIsIm9rIiwiY29udGVudFR5cGUiLCJnZXQiLCJoYXNKc29uIiwiaW5jbHVkZXMiLCJfZXJyb3JEYXRhIiwiX2Vycm9yRGF0YTIiLCJlcnJvckRhdGEiLCJqc29uIiwiZSIsImVycm9yIiwic3RhdHVzVGV4dCIsImVycm9ycyIsImhhbmRsZUF1dGhFcnJvciIsIm5hbWUiLCJzbGljZSIsImhhbmRsZUVycm9yIiwiRXJyb3IiLCJfeCJdLCJzb3VyY2VzIjpbImNsaWVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcclxuICogQVBJIENsaWVudFxyXG4gKiBDZW50cmFsaXplZCBmZXRjaCB3cmFwcGVyXHJcbiAqIEZpbGU6IGNsaWVudC5qc1xyXG4gKi9cclxuaW1wb3J0IHsgVElNRU9VVFMgfSBmcm9tICdAY29uZmlnJztcclxuaW1wb3J0IHsgaGFuZGxlRXJyb3IgfSBmcm9tICdAZXJyb3JzJztcclxuaW1wb3J0IHsgZ2V0RGV2aWNlTG9jYWxlLCBMT0NBTEVfU1RPUkFHRV9LRVkgfSBmcm9tICdAaTE4bic7XHJcbmltcG9ydCB7IGFzeW5jIGFzIGFzeW5jU3RvcmFnZSB9IGZyb20gJ0BzZXJ2aWNlcy9zdG9yYWdlJztcclxuaW1wb3J0IHsgYXR0YWNoQXV0aEhlYWRlciwgaGFuZGxlQXV0aEVycm9yIH0gZnJvbSAnLi9pbnRlcmNlcHRvcnMnO1xyXG5cclxuY29uc3QgcmVzb2x2ZVJlcXVlc3RMb2NhbGUgPSBhc3luYyAoKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHN0b3JlZExvY2FsZSA9IGF3YWl0IGFzeW5jU3RvcmFnZS5nZXRJdGVtKExPQ0FMRV9TVE9SQUdFX0tFWSk7XHJcbiAgICBpZiAodHlwZW9mIHN0b3JlZExvY2FsZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgY29uc3QgdmFsdWUgPSBzdG9yZWRMb2NhbGUudHJpbSgpO1xyXG4gICAgICBpZiAodmFsdWUpIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBnZXREZXZpY2VMb2NhbGUoKTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBnZXREZXZpY2VMb2NhbGUoKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBhcGlDbGllbnQgPSBhc3luYyAoY29uZmlnKSA9PiB7XHJcbiAgY29uc3Qge1xyXG4gICAgdXJsLFxyXG4gICAgbWV0aG9kID0gJ0dFVCcsXHJcbiAgICBib2R5LFxyXG4gICAgaGVhZGVycyA9IHt9LFxyXG4gICAgdGltZW91dCA9IFRJTUVPVVRTLkFQSV9SRVFVRVNULFxyXG4gIH0gPSBjb25maWc7XHJcbiAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjUxL2luZ2VzdC8xZDI4Yjg1ZS00ZTgwLTRjZDYtODRiYy0wYTE0ZjNiYTZjZWMnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J2NsaWVudC5qczozMycsbWVzc2FnZTonYXBpX2NsaWVudF9lbnRlcicsZGF0YTp7dXJsLG1ldGhvZCxoYXNCb2R5OkJvb2xlYW4oYm9keSksdGltZW91dH0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDonbG9naW4tcmVkaXJlY3QnLGh5cG90aGVzaXNJZDonSDYnfSl9KS5jYXRjaCgoKT0+e30pO1xyXG4gIC8vICNlbmRyZWdpb24gYWdlbnQgbG9nXHJcblxyXG4gIC8vIEF0dGFjaCBhdXRoIGhlYWRlclxyXG4gIGNvbnN0IGF1dGhDb25maWcgPSBhd2FpdCBhdHRhY2hBdXRoSGVhZGVyKHsgdXJsLCBtZXRob2QsIGJvZHksIGhlYWRlcnMgfSk7XHJcbiAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjUxL2luZ2VzdC8xZDI4Yjg1ZS00ZTgwLTRjZDYtODRiYy0wYTE0ZjNiYTZjZWMnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J2NsaWVudC5qczozNycsbWVzc2FnZTonYXBpX2NsaWVudF9hdXRoX2NvbmZpZycsZGF0YTp7dXJsOmF1dGhDb25maWc/LnVybCxtZXRob2Q6YXV0aENvbmZpZz8ubWV0aG9kLGhhc0hlYWRlcnM6Qm9vbGVhbihhdXRoQ29uZmlnPy5oZWFkZXJzKX0sdGltZXN0YW1wOkRhdGUubm93KCksc2Vzc2lvbklkOidkZWJ1Zy1zZXNzaW9uJyxydW5JZDonbG9naW4tcmVkaXJlY3QnLGh5cG90aGVzaXNJZDonSDcnfSl9KS5jYXRjaCgoKT0+e30pO1xyXG4gIC8vICNlbmRyZWdpb24gYWdlbnQgbG9nXHJcblxyXG4gIC8vIENyZWF0ZSBhYm9ydCBjb250cm9sbGVyIGZvciB0aW1lb3V0XHJcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgdGltZW91dCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBsb2NhbGUgPSBhd2FpdCByZXNvbHZlUmVxdWVzdExvY2FsZSgpO1xyXG4gICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNTEvaW5nZXN0LzFkMjhiODVlLTRlODAtNGNkNi04NGJjLTBhMTRmM2JhNmNlYycse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonY2xpZW50LmpzOjQ1JyxtZXNzYWdlOidhcGlfY2xpZW50X2JlZm9yZV9mZXRjaCcsZGF0YTp7dXJsOmF1dGhDb25maWc/LnVybCxsb2NhbGV9LHRpbWVzdGFtcDpEYXRlLm5vdygpLHNlc3Npb25JZDonZGVidWctc2Vzc2lvbicscnVuSWQ6J2xvZ2luLXJlZGlyZWN0JyxoeXBvdGhlc2lzSWQ6J0g4J30pfSkuY2F0Y2goKCk9Pnt9KTtcclxuICAgIC8vICNlbmRyZWdpb24gYWdlbnQgbG9nXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGF1dGhDb25maWcudXJsLCB7XHJcbiAgICAgIG1ldGhvZDogYXV0aENvbmZpZy5tZXRob2QsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIC4uLihsb2NhbGUgPyB7ICdBY2NlcHQtTGFuZ3VhZ2UnOiBsb2NhbGUgfSA6IHt9KSxcclxuICAgICAgICAuLi5hdXRoQ29uZmlnLmhlYWRlcnMsXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IGF1dGhDb25maWcuYm9keSA/IEpTT04uc3RyaW5naWZ5KGF1dGhDb25maWcuYm9keSkgOiB1bmRlZmluZWQsXHJcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXHJcbiAgICB9KTtcclxuXHJcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcclxuICAgIC8vICNyZWdpb24gYWdlbnQgbG9nXHJcbiAgICBmZXRjaCgnaHR0cDovLzEyNy4wLjAuMTo3MjUxL2luZ2VzdC8xZDI4Yjg1ZS00ZTgwLTRjZDYtODRiYy0wYTE0ZjNiYTZjZWMnLHttZXRob2Q6J1BPU1QnLGhlYWRlcnM6eydDb250ZW50LVR5cGUnOidhcHBsaWNhdGlvbi9qc29uJ30sYm9keTpKU09OLnN0cmluZ2lmeSh7bG9jYXRpb246J2NsaWVudC5qczo1OCcsbWVzc2FnZTonYXBpX2NsaWVudF9yZXNwb25zZScsZGF0YTp7c3RhdHVzOnJlc3BvbnNlPy5zdGF0dXMsb2s6cmVzcG9uc2U/Lm9rfSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6J2RlYnVnLXNlc3Npb24nLHJ1bklkOidsb2dpbi1yZWRpcmVjdCcsaHlwb3RoZXNpc0lkOidIOSd9KX0pLmNhdGNoKCgpPT57fSk7XHJcbiAgICAvLyAjZW5kcmVnaW9uIGFnZW50IGxvZ1xyXG5cclxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycz8uZ2V0Py4oJ2NvbnRlbnQtdHlwZScpIHx8ICcnO1xyXG4gICAgY29uc3QgaGFzSnNvbiA9IGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICBcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgLy8gUGFyc2UgZXJyb3IgcmVzcG9uc2UgYm9keVxyXG4gICAgICBsZXQgZXJyb3JEYXRhID0gbnVsbDtcclxuICAgICAgaWYgKGhhc0pzb24pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgZXJyb3JEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIElmIEpTT04gcGFyc2luZyBmYWlscywgY29udGludWUgd2l0aCBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBlcnJvciA9IHtcclxuICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxyXG4gICAgICAgIG1lc3NhZ2U6IGVycm9yRGF0YT8ubWVzc2FnZSB8fCBgQVBJIHJlcXVlc3QgZmFpbGVkOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCxcclxuICAgICAgICBlcnJvcnM6IGVycm9yRGF0YT8uZXJyb3JzIHx8IFtdLFxyXG4gICAgICB9O1xyXG4gICAgICB0aHJvdyBhd2FpdCBoYW5kbGVBdXRoRXJyb3IoZXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBoYXNKc29uID8gYXdhaXQgcmVzcG9uc2UuanNvbigpIDogbnVsbDtcclxuICAgIHJldHVybiB7IGRhdGEsIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzIH07XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgLy8gI3JlZ2lvbiBhZ2VudCBsb2dcclxuICAgIGZldGNoKCdodHRwOi8vMTI3LjAuMC4xOjcyNTEvaW5nZXN0LzFkMjhiODVlLTRlODAtNGNkNi04NGJjLTBhMTRmM2JhNmNlYycse21ldGhvZDonUE9TVCcsaGVhZGVyczp7J0NvbnRlbnQtVHlwZSc6J2FwcGxpY2F0aW9uL2pzb24nfSxib2R5OkpTT04uc3RyaW5naWZ5KHtsb2NhdGlvbjonY2xpZW50LmpzOjg2JyxtZXNzYWdlOidhcGlfY2xpZW50X2Vycm9yJyxkYXRhOntuYW1lOmVycm9yPy5uYW1lIHx8IG51bGwsbWVzc2FnZTp0eXBlb2YgZXJyb3I/Lm1lc3NhZ2UgPT09ICdzdHJpbmcnID8gZXJyb3IubWVzc2FnZS5zbGljZSgwLDEyMCkgOiBudWxsfSx0aW1lc3RhbXA6RGF0ZS5ub3coKSxzZXNzaW9uSWQ6J2RlYnVnLXNlc3Npb24nLHJ1bklkOidsb2dpbi1yZWRpcmVjdCcsaHlwb3RoZXNpc0lkOidIOCd9KX0pLmNhdGNoKCgpPT57fSk7XHJcbiAgICAvLyAjZW5kcmVnaW9uIGFnZW50IGxvZ1xyXG4gICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xyXG4gICAgICB0aHJvdyBoYW5kbGVFcnJvcihuZXcgRXJyb3IoJ1JlcXVlc3QgdGltZW91dCcpLCB7IHVybCB9KTtcclxuICAgIH1cclxuICAgIHRocm93IGF3YWl0IGhhbmRsZUF1dGhFcnJvcihlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IHsgYXBpQ2xpZW50IH07XHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBLElBQUFBLE9BQUEsR0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUQsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUYsT0FBQTtBQUNBLElBQUFHLFFBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLGFBQUEsR0FBQUosT0FBQTtBQUVBLElBQU1LLG9CQUFvQjtFQUFBLElBQUFDLElBQUEsT0FBQUMsa0JBQUEsQ0FBQUMsT0FBQSxFQUFHLGFBQVk7SUFDdkMsSUFBSTtNQUNGLElBQU1DLFlB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